<!doctype html> 
<html lang="ja"> 
 <head> 
  <meta charset="utf-8" /> 
  <meta name="viewport" content="width=device-width, initial-scale=1 " /> 
  <title>AR.js Marker Example</title> 
  <!-- A-Frame æœ¬ä½“ --> 
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script> 
   <!-- AR.js for A-Frame (CDN) --> 
  <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.min.js"></script> 
<style> 
body, html { margin:0; padding:0; overflow:hidden; } 
.hint { position: fixed; left: 50%; transform: translateX(-50%);
 bottom: 12px; background: rgba(0,0,0,.6); color: #fff; padding: 6px 1
 0px; border-radius: 8px; font-size: 14px; } 
</style> 
</head> 
<body> 
<!-- arjs="sourceType: webcam;" ã§ç«¯æœ«ã‚«ãƒ¡ãƒ©ã‚’ä½¿ç”¨ --> 
<a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false; "> 
<!-- æ—¢æˆã®HIROãƒãƒ¼ã‚«ãƒ¼ã‚’ä½¿ã†ä¾‹ <a-marker preset="hiro">  -->
 <a-marker type="pattern" url="markers/ghost3.patt"> 
<a-entity gltf-model="url(assets/model.glb)" position="0 0 0" scale= "0.5 0.5 0.5"></a-entity> 
<!-- åŸç‚¹ã«ç°¡å˜ãªç«‹æ–¹ä½“ã‚’è¡¨ç¤º --> 
 <!-- === ã‚±ãƒ¼ã‚­æœ¬ä½“ï¼ˆ1/3ã‚¹ã‚±ãƒ¼ãƒ«ï¼‰ === -->
<a-cylinder position="0 0 -4" radius="0.67" height="0.27" color="#FFC0CB"></a-cylinder>
<a-cylinder position="0 0.13 -4" radius="0.68" height="0.03" color="#FFE4F1"></a-cylinder>
<a-cylinder position="0 0.3 -4" radius="0.43" height="0.2" color="#FFB6C1"></a-cylinder>
<a-cylinder position="0 0.4 -4" radius="0.45" height="0.03" color="#FFE4F1"></a-cylinder>

<!-- === ã‚ã†ããã¨ç‚ï¼ˆ1/3ã‚¹ã‚±ãƒ¼ãƒ«ï¼‰ === -->
<a-cylinder position="0 0.53 -4" radius="0.017" height="0.2" color="#ADD8E6"></a-cylinder>
<a-cylinder position="0.13 0.53 -4" radius="0.017" height="0.2" color="#ADD8E6"></a-cylinder>
<a-cylinder position="-0.13 0.53 -4" radius="0.017" height="0.2" color="#ADD8E6"></a-cylinder>

<a-cone position="0 0.65 -4" radius-bottom="0.023" height="0.05" color="#FFD700"
         animation="property: position; dir: alternate; dur: 600; loop: true; to: 0 0.66 -4"></a-cone>
<a-cone position="0.13 0.65 -4" radius-bottom="0.023" height="0.05" color="#FFD700"
         animation="property: position; dir: alternate; dur: 600; loop: true; to: 0.13 0.66 -4"></a-cone>
<a-cone position="-0.13 0.65 -4" radius-bottom="0.023" height="0.05" color="#FFD700"
         animation="property: position; dir: alternate; dur: 600; loop: true; to: -0.13 0.66 -4"></a-cone>

<!-- === ğŸ“ã„ã¡ã”é…ç½®ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆä½ç½®ã´ã£ãŸã‚Šã«ä¿®æ­£ï¼‰ === -->
<script>
  const scene = document.querySelector('a-scene');

  // ==== ä¸‹æ®µã„ã¡ã” ====
  const bottomCount = 8;
  const bottomY = 0.15;   // ã‚±ãƒ¼ã‚­ä¸Šã®é«˜ã•ã‚’ã´ã£ãŸã‚Šã«èª¿æ•´
  const bottomR = 0.55;   // ã‚±ãƒ¼ã‚­ã‚ˆã‚Šå°‘ã—å†…å´
  for (let i = 0; i < bottomCount; i++) {
    const angle = (i / bottomCount) * Math.PI * 2;
    const x = bottomR * Math.cos(angle);
    const z = -4 + bottomR * Math.sin(angle);

    const strawberry = document.createElement('a-sphere');
    strawberry.setAttribute('position', `${x} ${bottomY} ${z}`);
    strawberry.setAttribute('radius', '0.05');
    strawberry.setAttribute('color', '#E62E2E');
    strawberry.setAttribute('scale', '1 1.3 1');
    scene.appendChild(strawberry);

    const leaf = document.createElement('a-cone');
    leaf.setAttribute('position', `${x} ${bottomY + 0.06} ${z}`);
    leaf.setAttribute('radius-bottom', '0.04');
    leaf.setAttribute('radius-top', '0');
    leaf.setAttribute('height', '0.017');
    leaf.setAttribute('color', '#228B22');
    scene.appendChild(leaf);
  }

  // ==== ä¸Šæ®µã„ã¡ã” ====
  const topCount = 6;
  const topY = 0.37;   // ä¸Šæ®µã‚±ãƒ¼ã‚­ã®ä¸Šé¢ã«ä¸€è‡´
  const topR = 0.37;   // ã‚±ãƒ¼ã‚­ã®åŠå¾„ã‚ˆã‚Šã‚„ã‚„å†…å´
  for (let i = 0; i < topCount; i++) {
    const angle = (i / topCount) * Math.PI * 2;
    const x = topR * Math.cos(angle);
    const z = -4 + topR * Math.sin(angle);

    const strawberry = document.createElement('a-sphere');
    strawberry.setAttribute('position', `${x} ${topY} ${z}`);
    strawberry.setAttribute('radius', '0.04');
    strawberry.setAttribute('color', '#E62E2E');
    strawberry.setAttribute('scale', '1 1.3 1');
    scene.appendChild(strawberry);

    const leaf = document.createElement('a-cone');
    leaf.setAttribute('position', `${x} ${topY + 0.045} ${z}`);
    leaf.setAttribute('radius-bottom', '0.033');
    leaf.setAttribute('radius-top', '0');
    leaf.setAttribute('height', '0.013');
    leaf.setAttribute('color', '#228B22');
    scene.appendChild(leaf);
  }
</script>
 
 
<a-text value="Hello AR.js" position="-0.8 1.8 0" color="#fff">
</a-text> 
</a-marker> 
<!-- ã‚«ãƒ¡ãƒ© --> 
<a-entity camera></a-entity> 
</a-scene> 
<div class="hint">ãƒãƒ¼ã‚«ãƒ¼ã‚’ã‹ã–ã—ã¦ã¿ã¦ãã ã•ã„</div> 
</body> 
</html> 
